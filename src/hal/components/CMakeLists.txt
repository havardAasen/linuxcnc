include(buildcomponent)

build_component(NAME hal_rt SOURCES ../hal_lib.c LIBS ulapi hal)
build_component(NAME scope_rt SOURCES ../utils/scope_rt.c LIBS ulapi hal)
build_component(NAME boss_plc SOURCES boss_plc.c LIBS ulapi hal)
build_component(NAME debounce SOURCES debounce.c LIBS ulapi hal)
build_component(NAME encoder SOURCES encoder.c LIBS ulapi hal)
build_component(NAME counter SOURCES counter.c LIBS ulapi hal)
build_component(NAME encoder_ratio SOURCES encoder_ratio.c LIBS ulapi hal)
build_component(NAME stepgen SOURCES stepgen.c LIBS ulapi hal)
build_component(NAME lcd SOURCES lcd.c LIBS ulapi hal)
build_component(NAME matrix_kb SOURCES matrix_kb.c LIBS ulapi hal)
build_component(NAME mux_generic SOURCES mux_generic.c LIBS ulapi hal)
build_component(NAME pwmgen SOURCES pwmgen.c LIBS ulapi hal)
build_component(NAME siggen SOURCES siggen.c LIBS ulapi hal)
build_component(NAME pid SOURCES pid.c LIBS ulapi hal)
build_component(NAME threads SOURCES threads.c LIBS ulapi hal)
build_component(NAME supply SOURCES supply.c LIBS ulapi hal)
build_component(NAME sim_encoder SOURCES sim_encoder.c LIBS ulapi hal)
build_component(NAME weighted_sum SOURCES weighted_sum.c LIBS ulapi hal)
build_component(NAME watchdog SOURCES watchdog.c LIBS ulapi hal)
build_component(NAME modmath SOURCES modmath.c LIBS ulapi hal)
build_component(NAME streamer SOURCES streamer.c LIBS ulapi hal)
build_component(NAME sampler SOURCES sampler.c LIBS ulapi hal)

#todo: userkfuncs

compile_component(abs_s32 abs_s32.comp OFF ON)
compile_component(abs abs.comp OFF ON)
compile_component(and2 and2.comp OFF ON)
compile_component(axistest axistest.comp OFF ON)
compile_component(bin2gray bin2gray.comp OFF ON)
compile_component(biquad biquad.comp OFF ON)
compile_component(bitslice bitslice.comp OFF ON)
compile_component(bitwise bitwise.comp OFF ON)
compile_component(bldc bldc.comp OFF ON)
compile_component(blend blend.comp OFF ON)
compile_component(carousel carousel.comp OFF ON)
compile_component(charge_pump charge_pump.comp OFF ON)
compile_component(clarke2 clarke2.comp OFF ON)
compile_component(clarke3 clarke3.comp OFF ON)
compile_component(clarkeinv clarkeinv.comp OFF ON)
compile_component(comp comp.comp OFF ON)
compile_component(constant constant.comp OFF ON)
compile_component(corexy_by_hal corexy_by_hal.comp OFF ON)
compile_component(dbounce dbounce.comp OFF ON)
compile_component(ddt ddt.comp OFF ON)
compile_component(deadzone deadzone.comp OFF ON)
compile_component(demux demux.comp OFF ON)
compile_component(differential differential.comp OFF ON)
compile_component(edge edge.comp OFF ON)
compile_component(eoffset_per_angle eoffset_per_angle.comp OFF ON)
compile_component(estop_latch estop_latch.comp OFF ON)
compile_component(feedcomp feedcomp.comp OFF ON)
compile_component(filter_kalman filter_kalman.comp OFF ON)
compile_component(flipflop flipflop.comp OFF ON)
compile_component(gantry gantry.comp OFF ON)
compile_component(gearchange gearchange.comp OFF ON)
compile_component(gray2bin gray2bin.comp OFF ON)
compile_component(histobins histobins.comp OFF ON)
compile_component(hypot hypot.comp OFF ON)
compile_component(ilowpass ilowpass.comp OFF ON)
compile_component(integ integ.comp OFF ON)
compile_component(invert invert.comp OFF ON)
compile_component(joyhandle joyhandle.comp OFF ON)
compile_component(knob2float knob2float.comp OFF ON)
compile_component(latencybins latencybins.comp OFF ON)
compile_component(limit1 limit1.comp OFF ON)
compile_component(limit2 limit2.comp OFF ON)
compile_component(limit3 limit3.comp OFF ON)
compile_component(lincurve lincurve.comp OFF ON)
compile_component(logic logic.comp OFF ON)
compile_component(lowpass lowpass.comp OFF ON)
compile_component(lut5 lut5.comp OFF ON)
compile_component(maj3 maj3.comp OFF ON)
compile_component(match8 match8.comp OFF ON)
compile_component(max31855 max31855.comp OFF ON)
compile_component(mesa_pktgyro_test mesa_pktgyro_test.comp OFF ON)
compile_component(message message.comp OFF ON)
compile_component(minmax minmax.comp OFF ON)
compile_component(moveoff moveoff.comp OFF ON)
compile_component(mult2 mult2.comp OFF ON)
compile_component(multiclick multiclick.comp OFF ON)
compile_component(multiswitch multiswitch.comp OFF ON)
compile_component(mux16 mux16.comp OFF ON)
compile_component(mux2 mux2.comp OFF ON)
compile_component(mux4 mux4.comp OFF ON)
compile_component(mux8 mux8.comp OFF ON)
compile_component(near near.comp OFF ON)
compile_component(not not.comp OFF ON)
compile_component(offset offset.comp OFF ON)
compile_component(ohmic ohmic.comp OFF ON)
compile_component(oneshot oneshot.comp OFF ON)
compile_component(or2 or2.comp OFF ON)
compile_component(orient orient.comp OFF ON)
compile_component(plasmac plasmac.comp OFF ON)
compile_component(sample_hold sample_hold.comp OFF ON)
compile_component(scale scale.comp OFF ON)
compile_component(select8 select8.comp OFF ON)
compile_component(sim_axis_hardware sim_axis_hardware.comp OFF ON)
compile_component(sim_home_switch sim_home_switch.comp OFF ON)
compile_component(sim_matrix_kb sim_matrix_kb.comp OFF ON)
compile_component(sim_parport sim_parport.comp OFF ON)
compile_component(sim_spindle sim_spindle.comp OFF ON)
compile_component(simple_tp simple_tp.comp OFF ON)
compile_component(sphereprobe sphereprobe.comp OFF ON)
compile_component(spindle_monitor spindle_monitor.comp OFF ON)
compile_component(spindle spindle.comp OFF ON)
compile_component(steptest steptest.comp OFF ON)
compile_component(sum2 sum2.comp OFF ON)
compile_component(thc thc.comp OFF ON)
compile_component(thcud thcud.comp OFF ON)
compile_component(threadtest threadtest.comp OFF ON)
compile_component(time time.comp OFF ON)
compile_component(timedelay timedelay.comp OFF ON)
compile_component(timedelta timedelta.comp OFF ON)
compile_component(toggle toggle.comp OFF ON)
compile_component(toggle2nist toggle2nist.comp OFF ON)
compile_component(tristate_bit tristate_bit.comp OFF ON)
compile_component(tristate_float tristate_float.comp OFF ON)
compile_component(updown updown.comp OFF ON)
# TODO: fix this component
#compile_component(userkins userkins.comp OFF ON)
compile_component(wcomp wcomp.comp OFF ON)
compile_component(xhc_hb04_util xhc_hb04_util.comp OFF ON)
compile_component(xor2 xor2.comp OFF ON)

generate_conv_component(conv_float_s32 float s32 "\"\"" -2147483647-1 2147483647)
generate_conv_component(conv_float_u32 float u32 "\"\"" 2147483647 "")
generate_conv_component(conv_bit_s32 bit s32 // "" "")
generate_conv_component(conv_bit_u32 bit u32 // "" "")
generate_conv_component(conv_bit_float bit float // "" "")
generate_conv_component(conv_s32_float s32 float // "" "")
generate_conv_component(conv_s32_bit s32 bit "\"\"" 0 1)
generate_conv_component(conv_s32_u32 s32 u32 "\"\"" 0 0)
generate_conv_component(conv_u32_float u32 float // "" "")
generate_conv_component(conv_u32_bit u32 bit "\"\"" -1 1)
generate_conv_component(conv_u32_s32 u32 s32 "\"\"" -1 2147483647)
